# Story 2.5: Receipt Detail & Management

## Status: Ready for Dev

## Story

As a user,
I want to view the full details of a specific receipt and manage it,
So that I can verify information or remove mistakes.

## Acceptance Criteria

1. **AC1: Detail View** - User can view full-size image and all metadata
2. **AC2: Edit Metadata** - User can edit store, date, amount, and notes
3. **AC3: Delete Action** - User can delete the receipt
4. **AC4: Delete Confirmation** - specialized confirmation modal prevents accidental deletion
5. **AC5: Image Deletion** - Deleting receipt record also deletes the stored image

## Dev Notes

### Technical Context

#### Routing
- **Page:** `/receipts/[id]/page.tsx`.

#### Data Operations
- **Update:** `supabase.from('receipts').update(...)`.
- **Delete:** Transactional delete (DB record + Storage file). *Note: Storage triggers for cleanup are advanced, manual deletion in the API handler is acceptable for MVP.*

### Tasks / Subtasks

- [ ] **Task 1: Detail Page**
  - [ ] Fetch single receipt by ID
  - [ ] Display large image (zoomable?)

- [ ] **Task 2: Edit Mode**
  - [ ] specific "Edit" button toggles input fields (reuse form from Story 2.2)
  - [ ] Save updates

- [ ] **Task 3: Delete Logic**
  - [ ] "Delete" button -> Confirmation Modal
  - [ ] On confirm: Delete Storage object -> Delete DB row -> Redirect to List

## Success Criteria
✅ ID in URL loads correct receipt
✅ Edits persist
✅ Deletion removes both Data and Image
