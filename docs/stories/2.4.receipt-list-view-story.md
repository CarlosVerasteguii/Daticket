# Story 2.4: Receipt List View

## Status: Ready for Dev

## Story

As a user,
I want to view a list of all my uploaded receipts,
So that I can browse my purchase history.

## Acceptance Criteria

1. **AC1: List Display** - User can view list of receipts with thumbnail, store, date, amount
2. **AC2: Pagination** - List is paginated (e.g., 20 items per page) or infinite scroll
3. **AC3: Default Sort** - List is sorted by purchase date (newest first)
4. **AC4: Date Filtering** - User can filter receipts by date range
5. **AC5: Store Search** - User can search receipts by store name
6. **AC6: Navigation** - Clicking a receipt opens the Detail view

## Dev Notes

### Technical Context

#### UI/UX
- **Component:** `ReceiptList`, `ReceiptCard`.
- **Images:** Use Next.js `<Image/>` for optimized thumbnails.

#### Data Fetching
- **Query:** `supabase.from('receipts').select('*').order('purchase_date', { ascending: false })`.
- **Filtering:** `.ilike('store_name', %query%)`, `.gte/lte` for dates.
- **Pagination:** `.range(from, to)`.

### Tasks / Subtasks

- [ ] **Task 1: List Component**
  - [ ] Create generic List layout
  - [ ] Create `ReceiptCard` (Thumbnail + metadata)

- [ ] **Task 2: Data Fetching**
  - [ ] Implement `useReceipts` hook (SWR or TanStack Query recommended) or Server Component
  - [ ] Implement pagination logic

- [ ] **Task 3: Filters & Search**
  - [ ] Add Search Bar (Store name)
  - [ ] Add Date Range Picker
  - [ ] Update query based on filters

## Success Criteria
✅ User sees their receipts
✅ Search works correctly
✅ Pagination loads more items
